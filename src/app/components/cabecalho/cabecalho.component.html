<nav class="Navigation_sidebar" [class.open]="isMenuOpen">
    <div class="sidebar-header">
        <span class="app-title">Menu</span>
        <button class="close-btn" (click)="toggleMenu()" aria-label="Fechar menu">
            <svg width="22" height="22" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none">
                <line x1="18" y1="6" x2="6" y2="18" stroke-linecap="round" />
                <line x1="6" y1="6" x2="18" y2="18" stroke-linecap="round" />
            </svg>
        </button>
    </div>
    <ul class="menu">
        <!-- Dashboard -->
        <li class="menu-item">
            <div class="menu-header" (click)="toggleSubMenu('dashboard')">
                <span>Dashboard</span>
                <span class="arrow" [class.rotated]="subMenuStates['dashboard']">
                    <svg class="size-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <use href="#icone-seta-categoria"></use>
                    </svg>
                </span>
            </div>
            <div class="submenu" *ngIf="subMenuStates['dashboard']">
                <a [routerLink]="['/dashboard']">
                    <span class="icon">
                        <!-- SVG para Tarefas -->
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                            <path d="M3 9.5L12 3l9 6.5V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V9.5z" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </span>
                    Tarefas
                </a>
                <a [routerLink]="['/relatorios']">
                    <span class="icon">
                        <!-- SVG para Relatórios -->
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M3 17v-7M9 17V6M15 17v-4M21 17V3" stroke-linecap="round" />
                        </svg>
                    </span>
                    Relatórios
                </a>
                <a [routerLink]="['/projetosInternos']">
                    <span class="icon">
                        <!-- SVG para Projetos Internos -->
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="3" y="3" width="6" height="6" rx="1" />
                            <rect x="3" y="11" width="6" height="6" rx="1" />
                            <rect x="11" y="3" width="6" height="6" rx="1" />
                            <rect x="11" y="11" width="6" height="6" rx="1" />
                        </svg>
                    </span>
                    Projetos Internos
                </a>
            </div>
        </li>

        <!-- Cadastro -->
        <li class="menu-item">
            <div class="menu-header" (click)="toggleSubMenu('cadastro')">
                <span>Cadastro</span>
                <span class="arrow" [class.rotated]="subMenuStates['cadastro']">
                    <svg class="size-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <use href="#icone-seta-categoria"></use>
                    </svg>
                </span>
            </div>
            <div class="submenu" *ngIf="subMenuStates['cadastro']">
                <a [routerLink]="['/cadastro']">
                    <span class="icon">
                        <!-- Ícone de gráfico/score para Score -->
                        <span class="icon">
                            <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.6" viewBox="0 0 24 24">
                                <rect x="3" y="12" width="3" height="7" rx="1" />
                                <rect x="9" y="7" width="3" height="12" rx="1" />
                                <rect x="15" y="4" width="3" height="15" rx="1" />
                            </svg>
                        </span>
                    </span>
                    Score
                </a>
            </div>
        </li>

        <!-- Configurações -->
        <li class="menu-item">
            <div class="menu-header" (click)="toggleSubMenu('configuracoes')">
                <span>Configurações</span>
                <span class="arrow" [class.rotated]="subMenuStates['configuracoes']">
                    <svg class="size-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <use href="#icone-seta-categoria"></use>
                    </svg>
                </span>
            </div>
            <div class="submenu" *ngIf="subMenuStates['configuracoes']">
                <a [routerLink]="['/usuarios']">
                    <span class="icon">
                        <!-- SVG de usuário -->
                        <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
                            <circle cx="12" cy="8" r="4" />
                            <path d="M4 20c0-2.9 4-4.5 8-4.5s8 1.6 8 4.5" />
                        </svg>
                    </span>
                    Usuários
                </a>
            </div>
        </li>
    </ul>
</nav>

<header class="header-top">
    <button class="menu-button" aria-label="Abrir menu" (click)="toggleMenu()">☰</button>
    <div class="title">
        <a [routerLink]="['/dashboard']">
            <img src="assets/images/login_logo.svg" alt="Logo" class="logo-img" style="cursor: pointer;" />
        </a>
    </div>
    <div class="right-section">
        <button *ngIf="estaLogado(); else loginBtn" class="logout-button" (click)="logout()">Logout</button>
        <ng-template #loginBtn>
            <button class="logout-button" [routerLink]="['/login']">Login</button>
        </ng-template>
    </div>
</header>